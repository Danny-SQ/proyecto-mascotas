import{G as Q,I as U,a as N,b as T,c as B,d as F,e as L,j as V,l as j,m as K,r as R,s as Y,t as q,w as H,x as G,z as J}from"./chunk-YRUIN5XR.js";import"./chunk-PQYJBGAA.js";import"./chunk-QUJFQN2Y.js";import"./chunk-Y76GOPZE.js";import"./chunk-UW5QJ6AD.js";import"./chunk-KYBO7Z6X.js";import"./chunk-TUCPQ5Z2.js";import"./chunk-ZSUB4R5K.js";import"./chunk-Q2PL7KOI.js";import"./chunk-7FY2OE2O.js";import"./chunk-6GBC3BOG.js";import"./chunk-KKVHPS2N.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-ES6BQY3W.js";import"./chunk-CKP3SGE2.js";import"./chunk-AZEOPQ6H.js";import{$a as z,B as u,C as i,D as n,E as v,L as f,T as o,Ta as E,Ua as S,V as P,Va as I,Wa as k,X as l,Xa as A,Y as m,Z as g,_a as W,ab as D,ea as y,ja as O,la as w,na as x,q as c,r as h,t as M,x as b}from"./chunk-AADIVYK7.js";import"./chunk-XCLEG6OQ.js";import"./chunk-URNNXDMV.js";import"./chunk-WNO4XRYS.js";import"./chunk-Y6EF4666.js";import"./chunk-R5HL6L5F.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{e as _}from"./chunk-JHI3MBHO.js";function X(p,s){if(p&1&&(i(0,"ion-select-option",20),o(1),n()),p&2){let C=s.$implicit;u("value",C.id),c(),P(" ",C.nombre," ")}}var dt=(()=>{let s=class s{constructor(a,r,e,d){this.http=a,this.navCtrl=r,this.alertCtrl=e,this.route=d,this.mascotas=[],this.cuidadorId=null,this.actividadId=null,this.fecha="",this.comidas_programadas=null,this.comidas_cumplidas=null,this.actividad_realizada=!1,this.tiempo_actividad=null,this.observaciones="",this.mascota_id=null}ionViewWillEnter(){let a=localStorage.getItem("cuidador");if(!a){this.navCtrl.navigateRoot("/login");return}let r=JSON.parse(a);if(this.cuidadorId=r.id,this.actividadId=Number(this.route.snapshot.paramMap.get("id")),!this.actividadId){this.navCtrl.navigateBack("/home-daily-activity");return}this.cargarMascotas(),this.cargarActividad()}cargarMascotas(){this.http.get(`http://localhost:5000/api/mascotas/cuidador/${this.cuidadorId}`).subscribe({next:a=>this.mascotas=a,error:()=>_(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error",message:"No se pudieron cargar las mascotas",buttons:["OK"]})).present()})})}cargarActividad(){this.http.get(`http://localhost:5000/api/actividades/${this.actividadId}`).subscribe({next:a=>{this.fecha=a.fecha,this.comidas_programadas=a.comidas_programadas,this.comidas_cumplidas=a.comidas_cumplidas,this.actividad_realizada=a.actividad_realizada,this.tiempo_actividad=a.tiempo_actividad,this.observaciones=a.observaciones,this.mascota_id=a.mascota_id},error:()=>_(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error",message:"No se pudo cargar la actividad",buttons:["OK"]})).present(),this.navCtrl.navigateBack("/home-daily-activity")})})}guardarCambios(){return _(this,null,function*(){if(!this.mascota_id){yield(yield this.alertCtrl.create({header:"Validaci\xF3n",message:"Debe seleccionar una mascota",buttons:["OK"]})).present();return}let a={fecha:this.fecha,comidas_programadas:this.comidas_programadas,comidas_cumplidas:this.comidas_cumplidas,actividad_realizada:this.actividad_realizada,tiempo_actividad:this.tiempo_actividad,observaciones:this.observaciones,mascota_id:this.mascota_id};this.http.put(`http://localhost:5000/api/actividades/${this.actividadId}`,a).subscribe({next:()=>{this.navCtrl.navigateBack("/home-daily-activity")},error:()=>_(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error",message:"No se pudieron guardar los cambios",buttons:["OK"]})).present()})})})}irAHomeFuncionalidad(){this.navCtrl.navigateBack("/home-daily-activity")}};s.\u0275fac=function(r){return new(r||s)(h(w),h(D),h(Q),h(x))},s.\u0275cmp=M({type:s,selectors:[["app-edit-daily-activity"]],decls:42,vars:8,consts:[[1,"ion-padding"],[1,"content-wrapper"],[1,"header-container"],[1,"app-title"],["src","\\assets\\img\\pet-paws.png","alt","Patas de mascota",1,"app-logo"],[1,"access-title"],[1,"edit-form",3,"submit"],[1,"form-item"],["position","stacked"],["display-format","YYYY-MM-DD","name","fecha","required","",3,"ngModelChange","ngModel"],["name","mascota_id","interface","popover","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","name","comidas_programadas",1,"custom-input",3,"ngModelChange","ngModel"],["type","number","name","comidas_cumplidas",1,"custom-input",3,"ngModelChange","ngModel"],[1,"form-item","form-checkbox"],["name","actividad_realizada",3,"ngModelChange","ngModel"],["type","number","name","tiempo_actividad",1,"custom-input",3,"ngModelChange","ngModel"],["name","observaciones","rows","3",3,"ngModelChange","ngModel"],["expand","block","type","submit",1,"login-button"],["expand","block","color","medium",1,"cancel-button",3,"click"],[3,"value"]],template:function(r,e){r&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Editar Actividad"),n(),v(5,"img",4),n(),i(6,"h2",5),o(7,"Modificar detalles de la actividad"),n(),i(8,"form",6),f("submit",function(){return e.guardarCambios()}),i(9,"ion-item",7)(10,"ion-label",8),o(11,"Fecha"),n(),i(12,"ion-datetime",9),g("ngModelChange",function(t){return m(e.fecha,t)||(e.fecha=t),t}),n()(),i(13,"ion-item",7)(14,"ion-label",8),o(15,"Mascota"),n(),i(16,"ion-select",10),g("ngModelChange",function(t){return m(e.mascota_id,t)||(e.mascota_id=t),t}),b(17,X,2,2,"ion-select-option",11),n()(),i(18,"ion-item",7)(19,"ion-label",8),o(20,"Comidas Programadas"),n(),i(21,"ion-input",12),g("ngModelChange",function(t){return m(e.comidas_programadas,t)||(e.comidas_programadas=t),t}),n()(),i(22,"ion-item",7)(23,"ion-label",8),o(24,"Comidas Cumplidas"),n(),i(25,"ion-input",13),g("ngModelChange",function(t){return m(e.comidas_cumplidas,t)||(e.comidas_cumplidas=t),t}),n()(),i(26,"ion-item",14)(27,"ion-label"),o(28,"Actividad Realizada"),n(),i(29,"ion-checkbox",15),g("ngModelChange",function(t){return m(e.actividad_realizada,t)||(e.actividad_realizada=t),t}),n()(),i(30,"ion-item",7)(31,"ion-label",8),o(32,"Tiempo de Actividad (min)"),n(),i(33,"ion-input",16),g("ngModelChange",function(t){return m(e.tiempo_actividad,t)||(e.tiempo_actividad=t),t}),n()(),i(34,"ion-item",7)(35,"ion-label",8),o(36,"Observaciones"),n(),i(37,"ion-textarea",17),g("ngModelChange",function(t){return m(e.observaciones,t)||(e.observaciones=t),t}),n()(),i(38,"ion-button",18),o(39," Guardar Cambios "),n(),i(40,"ion-button",19),f("click",function(){return e.irAHomeFuncionalidad()}),o(41," Cancelar "),n()()()()),r&2&&(c(12),l("ngModel",e.fecha),c(4),l("ngModel",e.mascota_id),c(),u("ngForOf",e.mascotas),c(4),l("ngModel",e.comidas_programadas),c(4),l("ngModel",e.comidas_cumplidas),c(4),l("ngModel",e.actividad_realizada),c(4),l("ngModel",e.tiempo_actividad),c(4),l("ngModel",e.observaciones))},dependencies:[O,y,U,L,V,j,K,R,Y,q,H,G,J,N,T,B,F,z,A,E,S,W,k,I],styles:["ion-content[_ngcontent-%COMP%]{--background: #e8f0f2}ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}ion-content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{text-align:center;margin-top:50px;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:2.2em;font-weight:700;color:#1a1a2e;margin:0}ion-content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{width:150px;height:auto;margin-top:15px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .access-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.6em;font-weight:600;color:#1a1a2e;margin-top:40px;margin-bottom:30px}ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{--background: #fff;--border-radius: 15px;--border-color: transparent;--padding-start: 15px;--padding-end: 15px;--highlight-color-focused: transparent;margin-bottom:15px;box-shadow:0 4px 10px #0000000d}ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#aebfd0;font-size:.9em;font-weight:500}ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#1a1a2e;font-family:Poppins,sans-serif;font-size:.9em}ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item.form-checkbox[_ngcontent-%COMP%]{--padding-top: 15px;--padding-bottom: 15px}ion-content[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .form-item.form-checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1em;color:#1a1a2e}ion-content[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{--background: transparent;--placeholder-color: #1a1a2e;--placeholder-opacity: .8}ion-content[_ngcontent-%COMP%]   ion-popover.datetime-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{--background: #f5f8fa;--box-shadow: 0 4px 10px rgba(0, 0, 0, .1);--border-radius: 15px}ion-content[_ngcontent-%COMP%]   ion-popover.datetime-popover[_ngcontent-%COMP%]   .datetime-popover-button[_ngcontent-%COMP%]{--background: #ff5722;--color: #fff;--border-radius: 10px;margin:10px}ion-content[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #ff5722;--border-radius: 15px;--box-shadow: 0 4px 10px rgba(255, 87, 34, .3);height:55px;font-size:1.1em;font-weight:600;margin-top:30px;width:100%;max-width:400px;font-family:Poppins,sans-serif}ion-content[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{--background: #b0c4de;--color: #1a1a2e;--border-radius: 15px;--box-shadow: none;height:55px;font-size:1.1em;font-weight:600;margin-top:15px;width:100%;max-width:400px;font-family:Poppins,sans-serif}"]});let p=s;return p})();export{dt as EditDailyActivityPage};
