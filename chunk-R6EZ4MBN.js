import{G as j,I as H,c as W,d as F,e as N,l as T,m as Y,r as B,s as V,t as L,w as q,x as K}from"./chunk-YRUIN5XR.js";import"./chunk-PQYJBGAA.js";import"./chunk-QUJFQN2Y.js";import"./chunk-Y76GOPZE.js";import"./chunk-UW5QJ6AD.js";import"./chunk-KYBO7Z6X.js";import"./chunk-TUCPQ5Z2.js";import"./chunk-ZSUB4R5K.js";import"./chunk-Q2PL7KOI.js";import"./chunk-7FY2OE2O.js";import"./chunk-6GBC3BOG.js";import"./chunk-KKVHPS2N.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-ES6BQY3W.js";import"./chunk-CKP3SGE2.js";import"./chunk-AZEOPQ6H.js";import{$a as z,B as u,C as t,D as n,E as O,L as h,T as i,Ta as S,Ua as v,V as b,Va as I,Wa as E,X as m,Xa as D,Y as g,Z as p,_a as k,ab as A,ea as w,ja as x,la as y,q as l,r as f,t as C,x as P}from"./chunk-AADIVYK7.js";import"./chunk-XCLEG6OQ.js";import"./chunk-URNNXDMV.js";import"./chunk-WNO4XRYS.js";import"./chunk-Y6EF4666.js";import"./chunk-R5HL6L5F.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{e as _}from"./chunk-JHI3MBHO.js";function G(d,c){if(d&1&&(t(0,"ion-select-option",19),i(1),n()),d&2){let M=c.$implicit;u("value",M.id),l(),b(" ",M.nombre," ")}}var et=(()=>{let c=class c{constructor(a,r,e){this.http=a,this.navCtrl=r,this.alertCtrl=e,this.mascotas=[],this.cuidadorId=null,this.tipo="",this.producto_utilizado="",this.fecha_aplicacion="",this.mascota_id=null}ionViewWillEnter(){let a=localStorage.getItem("cuidador");if(!a){this.navCtrl.navigateRoot("/login");return}let r=JSON.parse(a);this.cuidadorId=r.id,this.cargarMascotas()}cargarMascotas(){this.http.get(`http://localhost:5000/api/mascotas/cuidador/${this.cuidadorId}`).subscribe({next:a=>this.mascotas=a,error:()=>_(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error",message:"No se pudieron cargar las mascotas",buttons:["OK"]})).present()})})}guardar(){return _(this,null,function*(){if(!this.mascota_id){yield(yield this.alertCtrl.create({header:"Validaci\xF3n",message:"Debe seleccionar una mascota",buttons:["OK"]})).present();return}if(!this.fecha_aplicacion){yield(yield this.alertCtrl.create({header:"Validaci\xF3n",message:"Debe ingresar una fecha de aplicaci\xF3n",buttons:["OK"]})).present();return}let a={tipo:this.tipo,producto_utilizado:this.producto_utilizado,fecha_aplicacion:this.fecha_aplicacion,mascota_id:this.mascota_id};this.http.post("http://localhost:5000/api/desparasitaciones",a).subscribe({next:()=>this.navCtrl.navigateBack("/home-deworming"),error:()=>_(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error",message:"No se pudo crear la desparasitaci\xF3n",buttons:["OK"]})).present()})})})}irAHomeFuncionalidad(){this.navCtrl.navigateBack("/home-deworming")}};c.\u0275fac=function(r){return new(r||c)(f(y),f(A),f(j))},c.\u0275cmp=C({type:c,selectors:[["app-add-deworming"]],decls:36,vars:5,consts:[[1,"ion-padding"],[1,"content-wrapper"],[1,"header-container"],[1,"app-title"],["src","\\assets\\img\\pet-paws.png","alt","Patas de mascota",1,"app-logo"],[1,"access-title"],[1,"add-form",3,"ngSubmit"],[1,"form-item"],["position","stacked"],["name","tipo","interface","popover","required","","placeholder","Seleccione el tipo",3,"ngModelChange","ngModel"],["value","interna"],["value","externa"],["value","mixta"],["name","producto_utilizado",3,"ngModelChange","ngModel"],["display-format","YYYY-MM-DD","picker-format","YYYY-MM-DD","name","fecha_aplicacion","required","",3,"ngModelChange","ngModel"],["name","mascota_id","interface","popover","required","","placeholder","Seleccionar mascota",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["expand","block","type","submit",1,"login-button"],["expand","block","color","medium",1,"cancel-button",3,"click"],[3,"value"]],template:function(r,e){r&1&&(t(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"Nueva Desparasitaci\xF3n"),n(),O(5,"img",4),n(),t(6,"h2",5),i(7,"Ingresa los datos"),n(),t(8,"form",6),h("ngSubmit",function(){return e.guardar()}),t(9,"ion-item",7)(10,"ion-label",8),i(11,"Tipo"),n(),t(12,"ion-select",9),p("ngModelChange",function(o){return g(e.tipo,o)||(e.tipo=o),o}),t(13,"ion-select-option",10),i(14,"Interna"),n(),t(15,"ion-select-option",11),i(16,"Externa"),n(),t(17,"ion-select-option",12),i(18,"Mixta"),n()()(),t(19,"ion-item",7)(20,"ion-label",8),i(21,"Producto Utilizado"),n(),t(22,"ion-input",13),p("ngModelChange",function(o){return g(e.producto_utilizado,o)||(e.producto_utilizado=o),o}),n()(),t(23,"ion-item",7)(24,"ion-label",8),i(25,"Fecha de Aplicaci\xF3n"),n(),t(26,"ion-datetime",14),p("ngModelChange",function(o){return g(e.fecha_aplicacion,o)||(e.fecha_aplicacion=o),o}),n()(),t(27,"ion-item",7)(28,"ion-label",8),i(29,"Seleccionar Mascota"),n(),t(30,"ion-select",15),p("ngModelChange",function(o){return g(e.mascota_id,o)||(e.mascota_id=o),o}),P(31,G,2,2,"ion-select-option",16),n()(),t(32,"ion-button",17),i(33," Guardar "),n(),t(34,"ion-button",18),h("click",function(){return e.irAHomeFuncionalidad()}),i(35," Cancelar "),n()()()()),r&2&&(l(12),m("ngModel",e.tipo),l(10),m("ngModel",e.producto_utilizado),l(4),m("ngModel",e.fecha_aplicacion),l(4),m("ngModel",e.mascota_id),l(),u("ngForOf",e.mascotas))},dependencies:[x,w,H,N,T,Y,B,V,L,q,K,W,F,z,D,S,v,k,E,I],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-color: transparent;padding-top:10px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:700;color:#1a1a2e;text-align:center;padding-right:48px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{--color: #1a1a2e}ion-content[_ngcontent-%COMP%]{--background: #e8f0f2}ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}ion-content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:2.2em;font-weight:700;color:#1a1a2e;margin:0}ion-content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{width:150px;height:auto;margin-top:15px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .access-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.6em;font-weight:600;color:#1a1a2e;margin-top:20px;margin-bottom:30px}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{--background: #fff;--border-radius: 15px;--border-color: transparent;--padding-start: 15px;--padding-end: 15px;--highlight-color-focused: transparent;margin-bottom:15px;box-shadow:0 4px 10px #0000000d}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#aebfd0;font-size:.9em;font-weight:500}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#1a1a2e;font-family:Poppins,sans-serif;font-size:.9em}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{--background: #fff;--color: #1a1a2e;--border-radius: 15px}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--color: #1a1a2e}ion-content[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]   .select-text[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:.9em}ion-content[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #ff5722;--border-radius: 15px;--box-shadow: 0 4px 10px rgba(255, 87, 34, .3);height:55px;font-size:1.1em;font-weight:600;margin-top:30px;width:100%;max-width:400px;font-family:Poppins,sans-serif}ion-content[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{--background: #b0c4de;--color: #1a1a2e;--border-radius: 15px;--box-shadow: none;height:55px;font-size:1.1em;font-weight:600;margin-top:15px;width:100%;max-width:400px;font-family:Poppins,sans-serif}"]});let d=c;return d})();export{et as AddDewormingPage};
